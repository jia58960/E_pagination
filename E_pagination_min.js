!function(a){var b={init:function(a,b){this.render(a,b),this.bindEvent(a,b)},render:function(a,b){a.empty(),console.log("当前页码："+b.current),console.log("总页数："+b.pageCount),b.current>1?a.append('<li><a href="javascript:;" class="prevPage"><span>上一页</span></a></li>'):(a.remove(".prevPage"),a.append('<li class="disabled"><a href="javascript:;"><span>上一页</span></a></li>')),b.current>=4&&4!=b.pageCount&&a.append('<li><a href="javascript:;" class="tcdNumber">1</a></li>'),b.current>4&&b.current<=b.pageCount&&b.pageCount>5&&a.append('<li><a href="javascript:;">...</a></li>');var c=b.current-2,d=b.current+2;for((c>1&&b.current<4||1==b.current)&&d++,b.current>b.pageCount-4&&b.current>=b.pageCount&&c--;d>=c;c++)c<=b.pageCount&&c>=1&&(c!=b.current?a.append('<li><a href="javascript:;" class="tcdNumber">'+c+"</a></li>"):a.append('<li class="active"><a href="javascript:;">'+c+"</a></li>"));b.current+2<b.pageCount-1&&b.current>=1&&b.pageCount>5&&a.append('<li><a href="javascript:;">...</a></li>'),b.current!=b.pageCount&&b.current<b.pageCount-2&&4!=b.pageCount&&a.append('<li><a href="javascript:;" class="tcdNumber">'+b.pageCount+"</a></li>"),b.current<b.pageCount?a.append('<li><a href="javascript:;" class="nextPage"><span>下一页</span></a></li>'):(a.remove(".nextPage"),a.append('<li class="disabled"><a href="javascript:;"><span>下一页</span></a></li>'))},bindEvent:function(b,c){var d=this;b.on("click","a.tcdNumber",function(){var e=parseInt(a(this).text());d.render(b,{current:e,pageCount:c.pageCount}),"function"==typeof c.callback&&c.callback(e)}),b.on("click","a.prevPage",function(){var a=parseInt(b.children("li.active").find("a").text());d.render(b,{current:a-1,pageCount:c.pageCount}),"function"==typeof c.callback&&c.callback(a-1)}),b.on("click","a.nextPage",function(){var a=parseInt(b.children("li.active").find("a").text());d.render(b,{current:a+1,pageCount:c.pageCount}),"function"==typeof c.callback&&c.callback(a+1)})}};a.fn.E_pagination=function(c){var d=a.extend({pageCount:5,current:1,callback:function(){}},c);this.off(),b.init(this,d)}}($);